<!-- Customer Dashboard -->
<div class="min-h-screen bg-gradient-to-br from-surface to-surface-dark">
  <!-- Dashboard Header -->
  <div class="bg-white shadow-sm border-b border-border">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="py-6">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-3xl font-bold text-primary">
              Welcome back, <%= @user.name || @user.email.split('@').first.humanize %>!
            </h1>
            <p class="text-text-muted mt-1">Manage your hosting services and access your FREE marketing tools</p>
          </div>
          <div class="flex items-center space-x-4">
            <div class="text-right">
              <p class="text-sm text-text-muted">Total Spent</p>
              <p class="text-2xl font-bold text-accent">¬£<%= sprintf('%.2f', @total_spent) %></p>
            </div>
            <%= link_to "Upgrade Plan", hosting_plans_path, class: "btn btn-accent" %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Quick Stats -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
      <div class="stat-card">
        <div class="flex items-center">
          <div class="p-3 rounded-full bg-accent/10">
            <svg class="h-8 w-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
            </svg>
          </div>
          <div class="ml-4">
            <p class="text-sm text-text-muted">Active Services</p>
            <p class="text-2xl font-bold text-primary"><%= @active_services %></p>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="flex items-center">
          <div class="p-3 rounded-full bg-free/10">
            <svg class="h-8 w-8 text-free" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div class="ml-4">
            <p class="text-sm text-text-muted">FREE Marketing Value</p>
            <p class="text-2xl font-bold text-free">¬£455/mo</p>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="flex items-center">
          <div class="p-3 rounded-full bg-premium/10">
            <svg class="h-8 w-8 text-premium" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
            </svg>
          </div>
          <div class="ml-4">
            <p class="text-sm text-text-muted">Total Orders</p>
            <p class="text-2xl font-bold text-primary"><%= @total_orders %></p>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="flex items-center">
          <div class="p-3 rounded-full bg-accent/10">
            <svg class="h-8 w-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
            </svg>
          </div>
          <div class="ml-4">
            <p class="text-sm text-text-muted">Annual Savings</p>
            <p class="text-2xl font-bold text-accent">¬£5,460</p>
          </div>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Main Content -->
      <div class="lg:col-span-2 space-y-8">
        <!-- FREE Marketing Tools Dashboard -->
        <div class="dashboard-card">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-primary">üéÅ FREE Marketing Suite Dashboard</h2>
            <span class="free-badge">¬£455/month VALUE</span>
          </div>

          <!-- Marketing Tools Grid -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <!-- Email Marketing -->
            <div class="marketing-tool-card border-free">
              <div class="flex items-center mb-3">
                <div class="p-2 rounded-lg bg-free/10">
                  <svg class="h-6 w-6 text-free" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                  </svg>
                </div>
                <h3 class="font-semibold text-primary ml-2">Email Marketing</h3>
              </div>
              <p class="text-sm text-text-muted mb-3">Professional email campaigns & automation</p>
              <div class="flex justify-between items-center">
                <span class="text-xs text-free font-medium">¬£29/mo value</span>
                <button class="text-accent text-sm font-medium hover:text-accent-dark">Launch ‚Üí</button>
              </div>
            </div>

            <!-- Digital Marketing -->
            <div class="marketing-tool-card border-free">
              <div class="flex items-center mb-3">
                <div class="p-2 rounded-lg bg-free/10">
                  <svg class="h-6 w-6 text-free" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                  </svg>
                </div>
                <h3 class="font-semibold text-primary ml-2">Digital Marketing</h3>
              </div>
              <p class="text-sm text-text-muted mb-3">SEO, social media & analytics tools</p>
              <div class="flex justify-between items-center">
                <span class="text-xs text-free font-medium">¬£127/mo value</span>
                <button class="text-accent text-sm font-medium hover:text-accent-dark">Launch ‚Üí</button>
              </div>
            </div>

            <!-- Migration Assistant -->
            <div class="marketing-tool-card border-free">
              <div class="flex items-center mb-3">
                <div class="p-2 rounded-lg bg-free/10">
                  <svg class="h-6 w-6 text-free" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path>
                  </svg>
                </div>
                <h3 class="font-semibold text-primary ml-2">Migration Assistant</h3>
              </div>
              <p class="text-sm text-text-muted mb-3">Smart website migration service</p>
              <div class="flex justify-between items-center">
                <span class="text-xs text-free font-medium">¬£299 value</span>
                <button class="text-accent text-sm font-medium hover:text-accent-dark">Launch ‚Üí</button>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="border-t border-border pt-4">
            <h4 class="font-semibold text-primary mb-3">Quick Actions</h4>
            <div class="flex flex-wrap gap-3">
              <button class="quick-action-btn">
                üìß Create Email Campaign
              </button>
              <button class="quick-action-btn">
                üìä View Analytics
              </button>
              <button class="quick-action-btn">
                üîó Manage Social Media
              </button>
              <button class="quick-action-btn">
                üéØ Run SEO Audit
              </button>
            </div>
          </div>
        </div>

        <!-- Active Hosting Services -->
        <div class="dashboard-card">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-primary">üè† Your Hosting Services</h2>
            <%= link_to "View All Plans", hosting_plans_path, class: "text-accent hover:text-accent-dark font-medium" %>
          </div>

          <% if @active_orders.any? %>
            <div class="space-y-4">
              <% @active_orders.each do |order| %>
                <div class="service-card">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <div class="p-3 rounded-full bg-accent/10">
                        <svg class="h-6 w-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
                        </svg>
                      </div>
                      <div class="ml-4">
                        <h3 class="font-semibold text-primary"><%= order.product_name %></h3>
                        <p class="text-sm text-text-muted">Active since <%= order.created_at.strftime('%B %Y') %></p>
                      </div>
                    </div>
                    <div class="text-right">
                      <p class="font-semibold text-primary"><%= order.formatted_amount %></p>
                      <p class="text-sm text-free">‚úì FREE Marketing Suite Included</p>
                    </div>
                  </div>
                  <div class="mt-4 pt-4 border-t border-border">
                    <div class="flex justify-between items-center">
                      <div class="flex space-x-4">
                        <button class="text-accent text-sm font-medium hover:text-accent-dark">Manage</button>
                        <button class="text-accent text-sm font-medium hover:text-accent-dark">Support</button>
                        <button class="text-accent text-sm font-medium hover:text-accent-dark">Upgrade</button>
                      </div>
                      <span class="text-sm text-free font-medium">Status: Active</span>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          <% else %>
            <div class="text-center py-8">
              <svg class="mx-auto h-12 w-12 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
              </svg>
              <h3 class="mt-2 text-lg font-medium text-primary">No Active Services</h3>
              <p class="mt-1 text-text-muted">Get started with our hosting plans and unlock FREE marketing tools worth ¬£455/month!</p>
              <%= link_to "Browse Hosting Plans", hosting_plans_path, class: "btn btn-accent mt-4" %>
            </div>
          <% end %>
        </div>

        <!-- Recent Orders -->
        <div class="dashboard-card">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-primary">üìã Recent Orders</h2>
            <%= link_to "View All Orders", orders_path, class: "text-accent hover:text-accent-dark font-medium" %>
          </div>

          <% if @orders.any? %>
            <div class="overflow-x-auto">
              <table class="min-w-full">
                <thead>
                  <tr class="border-b border-border">
                    <th class="text-left py-3 px-4 font-medium text-text-muted">Order</th>
                    <th class="text-left py-3 px-4 font-medium text-text-muted">Date</th>
                    <th class="text-left py-3 px-4 font-medium text-text-muted">Amount</th>
                    <th class="text-left py-3 px-4 font-medium text-text-muted">Status</th>
                  </tr>
                </thead>
                <tbody>
                  <% @orders.each do |order| %>
                    <tr class="border-b border-border/50 hover:bg-surface">
                      <td class="py-3 px-4">
                        <div>
                          <p class="font-medium text-primary"><%= order.product_name %></p>
                          <p class="text-sm text-text-muted">Order #<%= order.id %></p>
                        </div>
                      </td>
                      <td class="py-3 px-4 text-text-muted">
                        <%= order.created_at.strftime('%d %b %Y') %>
                      </td>
                      <td class="py-3 px-4 font-medium text-primary">
                        <%= order.formatted_amount %>
                      </td>
                      <td class="py-3 px-4">
                        <span class="status-badge status-<%= order.status %>">
                          <%= order.display_status %>
                        </span>
                      </td>
                    </tr>
                  <% end %>
                </tbody>
              </table>
            </div>
          <% else %>
            <div class="text-center py-8">
              <svg class="mx-auto h-12 w-12 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
              <h3 class="mt-2 text-lg font-medium text-primary">No Orders Yet</h3>
              <p class="mt-1 text-text-muted">Start your hosting journey today!</p>
            </div>
          <% end %>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="space-y-6">
        <!-- Account Info -->
        <div class="dashboard-card">
          <h3 class="text-lg font-semibold text-primary mb-4">üë§ Account Information</h3>
          <div class="space-y-3">
            <div>
              <p class="text-sm text-text-muted">Email</p>
              <p class="font-medium text-primary"><%= @user.email %></p>
            </div>
            <% if @user.name %>
              <div>
                <p class="text-sm text-text-muted">Name</p>
                <p class="font-medium text-primary"><%= @user.name %></p>
              </div>
            <% end %>
            <div>
              <p class="text-sm text-text-muted">Member since</p>
              <p class="font-medium text-primary"><%= @user.created_at.strftime('%B %Y') %></p>
            </div>
          </div>
          <div class="mt-4 pt-4 border-t border-border">
            <%= link_to "Edit Profile", edit_profile_path, class: "text-accent hover:text-accent-dark font-medium" %>
          </div>
        </div>

        <!-- Upgrade Recommendation -->
        <div class="dashboard-card bg-gradient-to-br from-accent/5 to-accent/10 border-accent/20">
          <h3 class="text-lg font-semibold text-primary mb-3">üöÄ Maximize Your Savings</h3>
          <p class="text-sm text-text-muted mb-4">Unlock even more value with our premium hosting plans!</p>
          
          <div class="space-y-2 mb-4">
            <div class="flex items-center text-sm">
              <svg class="h-4 w-4 text-free mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span class="text-text">Advanced Email Marketing</span>
            </div>
            <div class="flex items-center text-sm">
              <svg class="h-4 w-4 text-free mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span class="text-text">Premium Support</span>
            </div>
            <div class="flex items-center text-sm">
              <svg class="h-4 w-4 text-free mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span class="text-text">Enhanced Performance</span>
            </div>
          </div>

          <%= link_to "View Upgrade Options", hosting_plans_path, class: "btn btn-accent w-full" %>
        </div>

        <!-- Support -->
        <div class="dashboard-card">
          <h3 class="text-lg font-semibold text-primary mb-3">üõü Need Help?</h3>
          <p class="text-sm text-text-muted mb-4">Our support team is here to help you succeed.</p>
          
          <div class="space-y-3">
            <button class="w-full text-left p-3 rounded-lg border border-border hover:border-accent/50 hover:bg-accent/5 transition-colors">
              <div class="flex items-center">
                <svg class="h-5 w-5 text-accent mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                </svg>
                <div>
                  <p class="font-medium text-primary">Live Chat</p>
                  <p class="text-xs text-text-muted">Get instant help</p>
                </div>
              </div>
            </button>

            <button class="w-full text-left p-3 rounded-lg border border-border hover:border-accent/50 hover:bg-accent/5 transition-colors">
              <div class="flex items-center">
                <svg class="h-5 w-5 text-accent mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                <div>
                  <p class="font-medium text-primary">Knowledge Base</p>
                  <p class="text-xs text-text-muted">Find answers</p>
                </div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Custom Dashboard Styles -->
<style>
.dashboard-card {
  @apply bg-white rounded-xl shadow-sm border border-border p-6;
}

.stat-card {
  @apply bg-white rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow;
}

.marketing-tool-card {
  @apply bg-white rounded-lg border-2 p-4 hover:shadow-md transition-all duration-200 hover:scale-105;
}

.service-card {
  @apply bg-white rounded-lg border border-border p-6 hover:shadow-md transition-shadow;
}

.quick-action-btn {
  @apply bg-accent/10 text-accent px-4 py-2 rounded-lg text-sm font-medium hover:bg-accent/20 transition-colors;
}

.free-badge {
  @apply bg-free text-white px-3 py-1 rounded-full text-xs font-bold;
}

.status-badge {
  @apply px-3 py-1 rounded-full text-xs font-medium;
}

.status-pending {
  @apply bg-yellow-100 text-yellow-800;
}

.status-processing {
  @apply bg-blue-100 text-blue-800;
}

.status-paid {
  @apply bg-green-100 text-green-800;
}

.status-failed {
  @apply bg-red-100 text-red-800;
}

.status-canceled {
  @apply bg-gray-100 text-gray-800;
}
</style>